(function(e){function t(t){for(var a,o,s=t[0],l=t[1],r=t[2],u=0,b=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(b.length)b.shift()();return i.push.apply(i,r||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==c[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},c={index:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),c={class:"breadcrumb"},i=Object(a["g"])("Home"),o=Object(a["g"])("About"),s=Object(a["h"])("div",{class:"is-size-3 has-text-weight-bold"},"CoWin Fetch",-1),l={class:"is-size-7"},r=Object(a["g"])(" App to fetch information from CoWin site regarding vaccination availability. (Read details in the "),d=Object(a["g"])("About"),u=Object(a["g"])(" page) "),b=Object(a["h"])("p",{class:"is-size-7 is-italic has-text-danger"},"* Works in most browsesrs.",-1);function h(e,t){var n=Object(a["x"])("router-link"),h=Object(a["x"])("router-view");return Object(a["q"])(),Object(a["d"])(a["a"],null,[Object(a["h"])("nav",c,[Object(a["h"])("ul",null,[Object(a["h"])("li",null,[Object(a["h"])(n,{class:"navbar-item",to:"/"},{default:Object(a["G"])((function(){return[i]})),_:1})]),Object(a["h"])("li",null,[Object(a["h"])(n,{class:"navbar-item",to:"/about"},{default:Object(a["G"])((function(){return[o]})),_:1})])])]),s,Object(a["h"])("div",l,[r,Object(a["h"])(n,{to:"/about"},{default:Object(a["G"])((function(){return[d]})),_:1}),u]),b,Object(a["h"])(h)],64)}const p={};p.render=h;var g=p,O=n("9483");Object(O["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var j=n("6c02"),f=Object(a["I"])("data-v-5ee77476");Object(a["t"])("data-v-5ee77476");var v={class:"home"},y={class:"field is-grouped"},m={class:"control"},k={class:"label"},S=Object(a["g"])(" Search by: "),I={class:"select is-small"},V=Object(a["h"])("option",{value:""},"-- Select PIN or State --",-1),D=Object(a["h"])("option",{value:"pin"},"PIN",-1),w=Object(a["h"])("option",{value:"state"},"State",-1),T={class:"field is-grouped"},x={class:"control"},C={class:"label"},_=Object(a["g"])(" From date: "),q={class:"columns"},W={class:"column is-one-quarter"},z={class:"field is-grouped"},A={class:"control"},N={class:"label",for:"state"},P=Object(a["g"])(" State: "),H={class:"select is-small"},B={class:"column is-three-quarters"},R={class:"field is-grouped"},M={class:"control"},F={class:"label",for:"district"},G=Object(a["g"])(" District: "),U={class:"select is-small"},E={class:"field is-grouped"},J={class:"control"},L={class:"label",for:"age"},K=Object(a["g"])(" PIN Code: "),X={key:0,class:"has-text-danger card"},Y={class:"field is-grouped"},$={class:"control"},Q={class:"label",for:"vaccineType"},Z=Object(a["g"])(" Vaccine: "),ee={class:"select is-small"},te=Object(a["h"])("option",{value:"any"},"Any",-1),ne=Object(a["h"])("option",{value:"COVISHIELD"},"COVISHIELD",-1),ae=Object(a["h"])("option",{value:"COVAXIN"},"COVAXIN",-1),ce={class:"control"},ie={class:"label",for:"dose"},oe=Object(a["g"])(" Dose: "),se={class:"select is-small"},le=Object(a["h"])("option",{value:"all"},"All",-1),re=Object(a["h"])("option",{value:"D1"},"1st Dose - D1",-1),de=Object(a["h"])("option",{value:"D2"},"2nd Dose - D2",-1),ue={class:"field is-grouped mt-3"},be={class:"control"},he={class:"label",for:"age"},pe=Object(a["g"])(" Age limit: "),ge={class:"select is-small"},Oe=Object(a["h"])("option",{value:"any"},"Any",-1),je=Object(a["h"])("option",{value:"18"},"18-39 (18+)",-1),fe=Object(a["h"])("option",{value:"40"},"40-44 (40+)",-1),ve=Object(a["h"])("option",{value:"45"},"45+",-1),ye={class:"control"},me={class:"checkbox"},ke=Object(a["g"])(" Voice notify "),Se={class:"field is-grouped"},Ie={class:"control"},Ve={class:"control"},De=Object(a["h"])("div",null,[Object(a["h"])("a",{href:"https://www.cowin.gov.in/home",target:"_blank",class:"button is-light is-link is-small is-rounded"},"Book in CoWin")],-1),we={class:"columns is-gapless"},Te={class:"column is-one-quarter"},xe={key:0,class:"has-text-weight-bold is-uppercase has-text-danger"},Ce={key:1},_e=Object(a["g"])(" : "),qe={key:0,class:"has-text-weight-bold has-text-danger"},We=Object(a["g"])(" and "),ze={key:1,class:"has-text-weight-bold has-text-danger"},Ae={key:2},Ne={key:0},Pe={class:"column is-offset-8"},He=Object(a["g"])(" For Age ["),Be={key:0,class:"has-text-weight-bold has-text-danger"},Re=Object(a["g"])("] Vaccine ["),Me={key:1,class:"has-text-weight-bold has-text-danger"},Fe=Object(a["g"])("] Dose ["),Ge={key:2,class:"has-text-weight-bold has-text-danger"},Ue=Object(a["g"])("] "),Ee={key:1},Je={key:0,class:"is-size-6 has-text-weight-bold has-background-success"},Le={key:2},Ke=Object(a["h"])("div",{class:"is-size-6 has-text-weight-bold has-background-danger"},"- No slots available -",-1),Xe=Object(a["h"])("br",null,null,-1),Ye=Object(a["h"])("span",{class:"label"},"D1: Dose 1, D2: Dose 2",-1),$e=Object(a["h"])("hr",null,null,-1),Qe={key:3},Ze=Object(a["h"])("h1",{class:"is-size-5 has-text-weight-bold"},"All slots for all age groups",-1);Object(a["r"])();var et=f((function(e,t,n,c,i,o){var s=Object(a["x"])("InfoTable");return Object(a["q"])(),Object(a["d"])("div",v,[Object(a["h"])("div",y,[Object(a["h"])("p",m,[Object(a["h"])("label",k,[S,Object(a["h"])("div",I,[Object(a["H"])(Object(a["h"])("select",{name:"option",id:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.optionType=e}),onChange:t[2]||(t[2]=function(){return o.changeOption&&o.changeOption.apply(o,arguments)})},[V,D,w],544),[[a["C"],i.optionType]])])])])]),Object(a["h"])("div",T,[Object(a["h"])("p",x,[Object(a["h"])("label",C,[_,Object(a["H"])(Object(a["h"])("input",{type:"date",id:"date",name:"date","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.date=e}),onChange:t[4]||(t[4]=function(){return o.formatDate&&o.formatDate.apply(o,arguments)})},null,544),[[a["D"],i.date]])])])]),Object(a["H"])(Object(a["h"])("div",q,[Object(a["h"])("div",W,[Object(a["h"])("div",z,[Object(a["h"])("p",A,[Object(a["h"])("label",N,[P,Object(a["h"])("div",H,[Object(a["H"])(Object(a["h"])("select",{id:"state",name:"state",onChange:t[5]||(t[5]=function(){return o.changeState&&o.changeState.apply(o,arguments)}),"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.selectedState=e})},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(i.states,(function(e){return Object(a["q"])(),Object(a["d"])("option",{key:e,value:e.state_id},Object(a["z"])(e.state_name),9,["value"])})),128))],544),[[a["C"],i.selectedState]])])])])])]),Object(a["h"])("div",B,[Object(a["h"])("div",R,[Object(a["h"])("p",M,[Object(a["h"])("label",F,[G,Object(a["h"])("div",U,[Object(a["H"])(Object(a["h"])("select",{id:"district",name:"district",onChange:t[7]||(t[7]=function(){return o.changeDistrict&&o.changeDistrict.apply(o,arguments)}),"onUpdate:modelValue":t[8]||(t[8]=function(e){return i.selectedDistrict=e}),ref:"district"},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(i.districts,(function(e){return Object(a["q"])(),Object(a["d"])("option",{key:e,value:e.district_id},Object(a["z"])(e.district_name),9,["value"])})),128))],544),[[a["C"],i.selectedDistrict]])])])])])])],512),[[a["E"],!i.errorVal&&"state"===i.optionType]]),Object(a["H"])(Object(a["h"])("div",E,[Object(a["h"])("p",J,[Object(a["h"])("label",L,[K,Object(a["H"])(Object(a["h"])("input",{class:"is-small",type:"text",name:"pin","onUpdate:modelValue":t[9]||(t[9]=function(e){return i.pinCode=e})},null,512),[[a["D"],i.pinCode]])])])],512),[[a["E"],"pin"===i.optionType]]),i.errorVal?(Object(a["q"])(),Object(a["d"])("div",X,[Object(a["h"])("div",{innerHTML:i.errorVal},null,8,["innerHTML"])])):Object(a["e"])("",!0),Object(a["h"])("div",Y,[Object(a["h"])("p",$,[Object(a["h"])("label",Q,[Z,Object(a["h"])("div",ee,[Object(a["H"])(Object(a["h"])("select",{name:"vaccineType",id:"vaccineType","onUpdate:modelValue":t[10]||(t[10]=function(e){return i.vaccineType=e}),onChange:t[11]||(t[11]=function(){return o.getVaccinationInfoWeek&&o.getVaccinationInfoWeek.apply(o,arguments)})},[te,ne,ae],544),[[a["C"],i.vaccineType]])])])]),Object(a["h"])("p",ce,[Object(a["h"])("label",ie,[oe,Object(a["h"])("div",se,[Object(a["H"])(Object(a["h"])("select",{name:"dose",id:"dose","onUpdate:modelValue":t[12]||(t[12]=function(e){return i.dose=e}),onChange:t[13]||(t[13]=function(){return o.getVaccinationInfoWeek&&o.getVaccinationInfoWeek.apply(o,arguments)})},[le,re,de],544),[[a["C"],i.dose]])])])])]),Object(a["h"])("div",ue,[Object(a["h"])("p",be,[Object(a["h"])("label",he,[pe,Object(a["h"])("div",ge,[Object(a["H"])(Object(a["h"])("select",{name:"age",id:"age","onUpdate:modelValue":t[14]||(t[14]=function(e){return i.age=e}),onChange:t[15]||(t[15]=function(){return o.getVaccinationInfoWeek&&o.getVaccinationInfoWeek.apply(o,arguments)})},[Oe,je,fe,ve],544),[[a["C"],i.age]])])])]),Object(a["h"])("p",ye,[Object(a["h"])("label",me,[Object(a["H"])(Object(a["h"])("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=function(e){return i.notify.voice=e})},null,512),[[a["B"],i.notify.voice]]),ke])])]),Object(a["h"])("div",Se,[Object(a["h"])("div",Ie,[Object(a["h"])("input",{type:"button",class:"button is-primary is-small is-rounded",value:"Get data",ref:"getButton",onClick:t[17]||(t[17]=function(e){o.speak(!0),o.getVaccinationInfoWeek()})},null,512)]),Object(a["h"])("div",Ve,[Object(a["h"])("button",{type:"submit",class:"button is-info is-small is-rounded",value:"Poll",ref:"pollButton",onClick:t[18]||(t[18]=function(){return o.startTimer&&o.startTimer.apply(o,arguments)})},Object(a["z"])(i.pollButtonText),513)]),De]),Object(a["h"])("div",we,[Object(a["h"])("div",Te,[i.optionType?(Object(a["q"])(),Object(a["d"])("span",xe,Object(a["z"])(i.optionType),1)):Object(a["e"])("",!0),"state"===i.optionType?(Object(a["q"])(),Object(a["d"])("span",Ce,[_e,i.selectedState?(Object(a["q"])(),Object(a["d"])("span",qe,Object(a["z"])(o.getName("state")),1)):Object(a["e"])("",!0),We,i.selectedDistrict?(Object(a["q"])(),Object(a["d"])("span",ze,Object(a["z"])(o.getName("district")),1)):Object(a["e"])("",!0)])):(Object(a["q"])(),Object(a["d"])("span",Ae,[i.pinCode?(Object(a["q"])(),Object(a["d"])("span",Ne,": "+Object(a["z"])(i.pinCode),1)):Object(a["e"])("",!0)]))]),Object(a["h"])("div",Pe,[He,i.age?(Object(a["q"])(),Object(a["d"])("span",Be,Object(a["z"])(i.ageRange[i.age]),1)):Object(a["e"])("",!0),Re,i.vaccineType?(Object(a["q"])(),Object(a["d"])("span",Me,Object(a["z"])(i.vaccineType),1)):Object(a["e"])("",!0),Fe,i.dose?(Object(a["q"])(),Object(a["d"])("span",Ge,Object(a["z"])(i.dose),1)):Object(a["e"])("",!0),Ue])]),i.processedVaccInfoWeek&&i.processedVaccInfoWeek.length>0?(Object(a["q"])(),Object(a["d"])("div",Ee,[i.textToSpeak?(Object(a["q"])(),Object(a["d"])("div",Je,Object(a["z"])(i.textToSpeak),1)):Object(a["e"])("",!0),Object(a["h"])(s,{vaccinationInfo:i.processedVaccInfoWeek,isFiltered:!0,ageRange:i.ageRange,selectedAge:i.age,selectedVaccine:i.vaccineType,selectedDose:i.dose},null,8,["vaccinationInfo","ageRange","selectedAge","selectedVaccine","selectedDose"])])):(Object(a["q"])(),Object(a["d"])("div",Le,[Ke])),Xe,Ye,$e,i.vaccInfoWeek?(Object(a["q"])(),Object(a["d"])("div",Qe,[Ze,Object(a["h"])(s,{vaccinationInfo:i.vaccInfoWeek,isFiltered:!1,ageRange:i.ageRange},null,8,["vaccinationInfo","ageRange"])])):Object(a["e"])("",!0)])})),tt=n("2909"),nt=n("1da1"),at=(n("96cf"),n("99af"),n("4d90"),n("7db0"),n("d3b7"),n("25f0"),n("4de4"),n("b0c0"),n("6062"),n("3ca3"),n("ddb0"),n("bc3a")),ct=n.n(at),it=Object(a["I"])("data-v-0824c279");Object(a["t"])("data-v-0824c279");var ot={class:"table is-bordered is-striped"},st={key:0,style:{"text-transform":"uppercase",color:"white",background:"#ad0000"}},lt=Object(a["h"])("strong",null,"D1 ",-1),rt=Object(a["g"])(),dt=Object(a["h"])("br",null,null,-1),ut=Object(a["h"])("strong",null,"D2 ",-1),bt=Object(a["g"])(),ht=Object(a["h"])("br",null,null,-1);Object(a["r"])();var pt=it((function(e,t,n,c,i,o){return Object(a["q"])(),Object(a["d"])("table",ot,[Object(a["h"])("tbody",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(n.vaccinationInfo,(function(e){return Object(a["q"])(),Object(a["d"])("tr",{key:e},[Object(a["h"])("td",null,[Object(a["h"])("div",null,[Object(a["h"])("strong",null,Object(a["z"])(e.name),1)]),Object(a["g"])(" "+Object(a["z"])(e.address)+", "+Object(a["z"])(e.pincode)+" ",1),"Paid"===e.fee_type?(Object(a["q"])(),Object(a["d"])("span",st,Object(a["z"])(e.fee_type),1)):Object(a["e"])("",!0)]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.sessions,(function(e){return Object(a["q"])(),Object(a["d"])(a["a"],null,[o.displayCondition(e)?(Object(a["q"])(),Object(a["d"])("td",{key:e.session_id},[Object(a["h"])("div",null,[Object(a["h"])("strong",null,Object(a["z"])(e.date),1)]),Object(a["h"])("div",null,Object(a["z"])(e.vaccine),1),Object(a["h"])("div",null,[Object(a["h"])("small",null,"Age: "+Object(a["z"])(n.ageRange[e.min_age_limit.toString()]),1),Object(a["h"])("table",null,[Object(a["h"])("tr",null,[Object(a["h"])("td",null,[lt,rt,dt,Object(a["g"])(Object(a["z"])(e.available_capacity_dose1),1)]),Object(a["h"])("td",{style:{backgroundColor:o.isAvailable(e.available_capacity)}},Object(a["z"])(e.available_capacity),5),Object(a["h"])("td",null,[ut,bt,ht,Object(a["g"])(Object(a["z"])(e.available_capacity_dose2),1)])])])])])):Object(a["e"])("",!0)],64)})),256))])})),128))])])})),gt={name:"InfoTable",props:{vaccinationInfo:Object,isFiltered:Boolean,selectedAge:String,ageRange:Object,selectedVaccine:String,selectedDose:String},data:function(){return{}},mounted:function(){},methods:{isAvailable:function(e){return e>0?"lightgreen":"lightpink"},ageFilter:function(e){return"any"===this.selectedAge||this.selectedAge.toString()===e.toString()},displayCondition:function(e){return!this.isFiltered||this.isFiltered&&e.available_capacity>0&&this.ageFilter(e.min_age_limit)&&(e.vaccine===this.selectedVaccine||"any"===this.selectedVaccine)}}};gt.render=pt,gt.__scopeId="data-v-0824c279";var Ot=gt,jt={name:"Home",components:{InfoTable:Ot},data:function(){return{optionType:"",age:18,ageRange:{18:"18-39",40:"40-44",45:"45+",any:"all"},vaccineType:"any",dose:"all",date:null,formattedDate:null,datePickerDate:null,pinCode:null,states:null,districts:null,errorVal:null,selectedState:null,selectedDistrict:null,vaccInfoWeek:null,vaccinationInfo:null,processedVaccInfo:null,processedVaccInfoWeek:null,initialCountVal:5,count:this.initialCountVal,timer:null,isPolling:!1,pollButtonText:"Get data automatically",textToSpeak:"Available in ",speakMsg:null,notify:{voice:!0,popup:!1}}},mounted:function(){this.$nextTick((function(){var e=new Date;this.date="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,0),"-").concat(e.getDate()),this.getStates("mounted"),this.notify.voice&&localStorage.setItem("voiceEnabled",this.notify.voice),localStorage.pin&&(this.pinCode=localStorage.pin),localStorage.age&&(this.age=localStorage.age),localStorage.dose&&(this.dose=localStorage.dose),localStorage.vaccine&&(this.vaccineType=localStorage.vaccine),localStorage.option&&(this.optionType=localStorage.option),localStorage.voiceEnabled&&(this.notify.voice=localStorage.voiceEnabled),"speechSynthesis"in window&&this.notify.voice&&(this.speakMsg=new SpeechSynthesisUtterance,this.speakMsg.lang="hi")}))},methods:{notifyMe:function(){var e=this;"Notification"in window?"granted"===Notification.permission?new Notification(e.textToSpeak):"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){"granted"===t&&new Notification(e.textToSpeak)})):alert("This browser does not support desktop notification")},speak:function(e){this.speakMsg&&e?speechSynthesis.speak(this.speakMsg):speechSynthesis.cancel()},resetValues:function(){this.districts=null,this.selectedDistrict=null,this.processedVaccInfoWeek=null,this.vaccInfoWeek=null},populateStoredValues:function(){"state"===this.optionType&&(localStorage.state&&(this.selectedState=localStorage.state,this.changeState()),localStorage.district&&(this.selectedDistrict=localStorage.district,this.changeDistrict())),localStorage.pin&&(this.pinCode=localStorage.pin),localStorage.option&&(this.optionType=localStorage.option)},changeOption:function(){this.errorVal=null,this.optionType&&localStorage.setItem("option",this.optionType),this.populateStoredValues()},startTimer:function(){var e=this;console.log("Poll button clicked"),"Get data automatically"===this.pollButtonText?(console.log("Timer started"),this.timer=setInterval((function(){return e.countdown()}),1e3),this.isPolling=!0,this.pollButtonText="Getting data... Click to stop"):(clearInterval(this.timer),this.timer=null,this.pollButtonText="Get data automatically",this.isPolling=!1,this.notify.voice&&this.speak(!1))},countdown:function(){this.count>0?(this.count--,console.log("Still counting..."),this.pollButtonText="Getting data in ".concat(this.count,"... Click to stop")):(this.count=this.initialCountVal,this.notify.voice&&this.speak(!0),this.getVaccinationInfoWeek())},feeType:function(e){return"Paid"===e?"lightpink":"lightgreen"},formatDate:function(){var e=new Date(this.date);this.formattedDate="".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())},getName:function(e){var t,n,a="".concat(e,"_id"),c="".concat(e,"_name");"state"===e?(t=this.states,n=this.selectedState):(t=this.districts,n=this.selectedDistrict);try{return t.find((function(e){return e[a].toString()===n.toString()}))[c]}catch(i){return null}},changeState:function(e){this.resetValues(),localStorage.setItem("state",this.selectedState),this.getDistricts(e)},getDistricts:function(e){var t=this;return Object(nt["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,n.next=3,ct.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(t.selectedState)).then((function(e){a.districts=e.data.districts})).catch((function(e){a.errorVal=e.response}));case 3:localStorage.setItem("districts",JSON.stringify(a.districts)),localStorage.district&&(t.selectedDistrict=localStorage.district,t.changeDistrict(e));case 5:case"end":return n.stop()}}),n)})))()},changeDistrict:function(e){e&&("mounted"===e||"mounted"!==e&&"change"===e.type&&"district"===e.target.id)&&(localStorage.setItem("district",this.selectedDistrict),this.getVaccinationInfoWeek())},getStates:function(e){var t=this;return Object(nt["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,n.next=3,ct.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){a.states=e.data.states,localStorage.setItem("states",JSON.stringify(a.states))})).catch((function(e){a.errorVal=e.response.error,console.log(a.errorVal)}));case 3:localStorage.state&&(t.selectedState=localStorage.state,t.changeState(e));case 4:case"end":return n.stop()}}),n)})))()},getVaccinationInfoWeek:function(){var e=this;return Object(nt["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.errorVal=null,e.pinCode&&localStorage.setItem("pin",e.pinCode),e.age&&localStorage.setItem("age",e.age),e.dose&&localStorage.setItem("dose",e.dose),e.vaccineType&&localStorage.setItem("vaccine",e.vaccineType),e.formatDate(),n=e,a=null,a="state"===e.optionType?"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(e.selectedDistrict,"&date=").concat(e.formattedDate):"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(e.pinCode,"&date=").concat(e.formattedDate),t.next=11,ct.a.get(a).then((function(e){"data"in e?n.vaccInfoWeek=e.data.centers:(console.error(e),n.errorVal=e),n.processVaccinationInfoWeek()})).catch((function(e){"response"in e&&"data"in e.response?(n.errorVal=e.response.data,console.log(n.errorVal)):n.errorVal=e}));case 11:case"end":return t.stop()}}),t)})))()},getVaccinationInfo:function(){this.errorVal=null,this.vaccinationInfo=null;var e=this,t=null;t="state"===this.optionType?"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByDistrict?district_id=".concat(this.selectedDistrict,"&date=").concat(this.formattedDate):"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode=".concat(this.pinCode,"&date=").concat(this.formattedDate),ct.a.get(t).then((function(t){"data"in t?(e.vaccinationInfo=t.data.sessions,e.processVaccinationInfo()):(console.error(t),e.errorVal=t)})).catch((function(t){console.log(t),"response"in t&&"data"in t.response&&(e.errorVal=t.response.data.error,console.log(e.errorVal))}))},processVaccinationInfo:function(){this.vaccinationInfo&&(this.processedInfo=this.vaccinationInfo.filter((function(e){return e.available_capacity>0})))},processVaccinationInfoWeek:function(){var e=this,t=this,n=[];this.vaccInfoWeek&&(this.processedVaccInfoWeek=this.vaccInfoWeek.filter((function(a){var c=a.sessions.filter((function(c){if(c.available_capacity>0){var i=[],o=t.age.toString();if((isNaN(t.age)&&"any"===o||c.min_age_limit.toString()===o)&&i.push(!0),"any"!==e.vaccineType&&c.vaccine!==e.vaccineType||i.push(!0),"all"===e.dose?i.push(!0):"D1"===e.dose?i.push(c.available_capacity_dose1>0):"D2"===e.dose&&i.push(c.available_capacity_dose2>0),i.every((function(e){return e}))&&3===i.length)return n.push(a.name),!0}}));return c.length>0}))),n=Object(tt["a"])(new Set(n));var a=n.length>0?"Vaccination available in "+n[0]+(n.length>1?" and ".concat(n.length-1," other centers"):""):"";this.textToSpeak=a,this.speakMsg&&(this.speakMsg.text=a)}}};n("da93");jt.render=et,jt.__scopeId="data-v-5ee77476";var ft=jt,vt=Object(a["f"])('<div class="about"> Developed by <a href="mailto:kishan.karun@gmail.com">Kishan K</a></div><div class="content"><ul><li>Displays the result of vaccine availability for the selections made:</li><li>Options to search by PIN or State-District</li><li>Option to select from date</li><li>Option to select age filter</li></ul> Select the option - <strong>Search By</strong> and choose <ul><li><strong>PIN</strong> - enter required PIN code of the area to search</li><li><strong>State</strong></li><ul><li>Select the state and then select the district</li><li>The availability data is automatically displayed</li></ul><li>Click <strong>Get Data</strong> button to get the data</li></ul><ul><li>Click <strong>Get Data Automatically</strong> button to get the latest data every 5 seconds automatically</li></ul></div>',2);function yt(e,t){return Object(a["q"])(),Object(a["d"])("div",null,[vt])}const mt={};mt.render=yt;var kt=mt,St=[{path:"/",name:"Home",component:ft},{path:"/about",name:"About",component:kt}],It=Object(j["a"])({history:Object(j["b"])(),routes:St}),Vt=It,Dt=n("5502"),wt=Object(Dt["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(g).use(wt).use(Vt).mount("#app")},"96d1":function(e,t,n){},da93:function(e,t,n){"use strict";n("96d1")}});
//# sourceMappingURL=index.fdbd0c2f.js.map