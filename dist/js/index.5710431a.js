(function(e){function t(t){for(var n,o,s=t[0],l=t[1],r=t[2],u=0,b=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(b.length)b.shift()();return i.push.apply(i,r||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==c[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},c={index:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),c={class:"breadcrumb"},i=Object(n["g"])("Home"),o=Object(n["g"])("About"),s=Object(n["h"])("div",{class:"is-size-3 has-text-weight-bold"},"CoWin Fetch",-1),l={class:"is-size-7"},r=Object(n["g"])(" App to fetch information from CoWin site regarding vaccination availability. (Read details in the "),d=Object(n["g"])("About"),u=Object(n["g"])(" page) "),b=Object(n["h"])("p",{class:"is-size-7 is-italic has-text-danger"},"* Works in most browsesrs.",-1);function p(e,t){var a=Object(n["x"])("router-link"),p=Object(n["x"])("router-view");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("nav",c,[Object(n["h"])("ul",null,[Object(n["h"])("li",null,[Object(n["h"])(a,{class:"navbar-item",to:"/"},{default:Object(n["G"])((function(){return[i]})),_:1})]),Object(n["h"])("li",null,[Object(n["h"])(a,{class:"navbar-item",to:"/about"},{default:Object(n["G"])((function(){return[o]})),_:1})])])]),s,Object(n["h"])("div",l,[r,Object(n["h"])(a,{to:"/about"},{default:Object(n["G"])((function(){return[d]})),_:1}),u]),b,Object(n["h"])(p)],64)}const h={};h.render=p;var g=h,O=a("9483");Object(O["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=a("6c02"),j=Object(n["I"])("data-v-82902b28");Object(n["t"])("data-v-82902b28");var v={class:"home"},y={class:"field is-grouped"},m={class:"control"},S={class:"label"},k=Object(n["g"])(" Search by: "),D={class:"select is-small"},I=Object(n["h"])("option",{value:""},"-- Select PIN or State --",-1),V=Object(n["h"])("option",{value:"pin"},"PIN",-1),w=Object(n["h"])("option",{value:"state"},"State",-1),T={class:"columns"},x={class:"column is-one-quarter"},_={class:"field is-grouped"},C={class:"control"},q={class:"label",for:"state"},N=Object(n["g"])(" State: "),W={class:"select is-small"},z={class:"column is-three-quarters"},P={class:"field is-grouped"},A={class:"control"},F={class:"label",for:"district"},B=Object(n["g"])(" District: "),R={class:"select is-small"},H={class:"field is-grouped"},M={class:"control"},G={class:"label",for:"age"},E=Object(n["g"])(" PIN Code: "),U={key:1,class:"has-text-danger card"},L={class:"field is-grouped"},Y={class:"control"},J={class:"label",for:"vaccineType"},K=Object(n["g"])(" Vaccine: "),X={class:"select is-small"},$=Object(n["h"])("option",{value:"any"},"Any",-1),Q=Object(n["h"])("option",{value:"COVISHIELD"},"COVISHIELD",-1),Z=Object(n["h"])("option",{value:"COVAXIN"},"COVAXIN",-1),ee={class:"control"},te={class:"label",for:"dose"},ae=Object(n["g"])(" Dose: "),ne={class:"select is-small"},ce=Object(n["h"])("option",{value:"all"},"All",-1),ie=Object(n["h"])("option",{value:"D1"},"1st Dose - D1",-1),oe=Object(n["h"])("option",{value:"D2"},"2nd Dose - D2",-1),se={class:"field is-grouped mt-3"},le={class:"control"},re={class:"label",for:"age"},de=Object(n["g"])(" Age limit: "),ue={class:"select is-small"},be=Object(n["h"])("option",{value:"any"},"Any",-1),pe=Object(n["h"])("option",{value:"18"},"18-39 (18+)",-1),he=Object(n["h"])("option",{value:"40"},"40-44 (40+)",-1),ge=Object(n["h"])("option",{value:"45"},"45+",-1),Oe={class:"control"},fe={class:"checkbox"},je=Object(n["g"])(" Voice notify "),ve={class:"field is-grouped"},ye={class:"control"},me={class:"control"},Se=Object(n["h"])("div",null,[Object(n["h"])("a",{href:"https://selfregistration.cowin.gov.in/",target:"_blank",class:"button is-light is-link is-small is-rounded"},"Book in CoWin")],-1),ke={class:"columns is-gapless"},De={class:"column is-one-quarter"},Ie={key:0,class:"has-text-weight-bold is-uppercase has-text-danger"},Ve={key:1},we=Object(n["g"])(" : "),Te={key:0,class:"has-text-weight-bold has-text-danger"},xe=Object(n["g"])(" and "),_e={key:1,class:"has-text-weight-bold has-text-danger"},Ce={key:2},qe={key:0},Ne={class:"column is-offset-8"},We=Object(n["g"])(" For Age ["),ze={key:0,class:"has-text-weight-bold has-text-danger"},Pe=Object(n["g"])("] Vaccine ["),Ae={key:1,class:"has-text-weight-bold has-text-danger"},Fe=Object(n["g"])("] Dose ["),Be={key:2,class:"has-text-weight-bold has-text-danger"},Re=Object(n["g"])("] "),He={key:2},Me={key:0,class:"is-size-6 has-text-weight-bold has-background-success"},Ge={key:3},Ee=Object(n["h"])("div",{class:"is-size-6 has-text-weight-bold has-background-danger"},"- No slots available -",-1),Ue=Object(n["h"])("br",null,null,-1),Le=Object(n["h"])("hr",null,null,-1);Object(n["r"])();var Ye=j((function(e,t,a,c,i,o){var s=Object(n["x"])("InfoTable");return Object(n["q"])(),Object(n["d"])("div",v,[Object(n["h"])("div",y,[Object(n["h"])("p",m,[Object(n["h"])("label",S,[k,Object(n["h"])("div",D,[Object(n["H"])(Object(n["h"])("select",{name:"option",id:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.optionType=e}),onChange:t[2]||(t[2]=function(){return o.changeOption&&o.changeOption.apply(o,arguments)})},[I,V,w],544),[[n["C"],i.optionType]])])])])]),Object(n["e"])("",!0),Object(n["H"])(Object(n["h"])("div",T,[Object(n["h"])("div",x,[Object(n["h"])("div",_,[Object(n["h"])("p",C,[Object(n["h"])("label",q,[N,Object(n["h"])("div",W,[Object(n["H"])(Object(n["h"])("select",{id:"state",name:"state",onChange:t[5]||(t[5]=function(){return o.changeState&&o.changeState.apply(o,arguments)}),"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.selectedState=e})},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.states,(function(e){return Object(n["q"])(),Object(n["d"])("option",{key:e,value:e.state_id},Object(n["z"])(e.state_name),9,["value"])})),128))],544),[[n["C"],i.selectedState]])])])])])]),Object(n["h"])("div",z,[Object(n["h"])("div",P,[Object(n["h"])("p",A,[Object(n["h"])("label",F,[B,Object(n["h"])("div",R,[Object(n["H"])(Object(n["h"])("select",{id:"district",name:"district",onChange:t[7]||(t[7]=function(){return o.changeDistrict&&o.changeDistrict.apply(o,arguments)}),"onUpdate:modelValue":t[8]||(t[8]=function(e){return i.selectedDistrict=e}),ref:"district"},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.districts,(function(e){return Object(n["q"])(),Object(n["d"])("option",{key:e,value:e.district_id},Object(n["z"])(e.district_name),9,["value"])})),128))],544),[[n["C"],i.selectedDistrict]])])])])])])],512),[[n["E"],!i.errorVal&&"state"===i.optionType]]),Object(n["H"])(Object(n["h"])("div",H,[Object(n["h"])("p",M,[Object(n["h"])("label",G,[E,Object(n["H"])(Object(n["h"])("input",{class:"is-small",type:"text",name:"pin","onUpdate:modelValue":t[9]||(t[9]=function(e){return i.pinCode=e})},null,512),[[n["D"],i.pinCode]])])])],512),[[n["E"],"pin"===i.optionType]]),i.errorVal?(Object(n["q"])(),Object(n["d"])("div",U,[Object(n["h"])("div",{innerHTML:i.errorVal},null,8,["innerHTML"])])):Object(n["e"])("",!0),Object(n["h"])("div",L,[Object(n["h"])("p",Y,[Object(n["h"])("label",J,[K,Object(n["h"])("div",X,[Object(n["H"])(Object(n["h"])("select",{name:"vaccineType",id:"vaccineType","onUpdate:modelValue":t[10]||(t[10]=function(e){return i.vaccineType=e}),onChange:t[11]||(t[11]=function(){return o.getVaccinationInfoWeek&&o.getVaccinationInfoWeek.apply(o,arguments)})},[$,Q,Z],544),[[n["C"],i.vaccineType]])])])]),Object(n["h"])("p",ee,[Object(n["h"])("label",te,[ae,Object(n["h"])("div",ne,[Object(n["H"])(Object(n["h"])("select",{name:"dose",id:"dose","onUpdate:modelValue":t[12]||(t[12]=function(e){return i.dose=e}),onChange:t[13]||(t[13]=function(){return o.getVaccinationInfoWeek&&o.getVaccinationInfoWeek.apply(o,arguments)})},[ce,ie,oe],544),[[n["C"],i.dose]])])])])]),Object(n["h"])("div",se,[Object(n["h"])("p",le,[Object(n["h"])("label",re,[de,Object(n["h"])("div",ue,[Object(n["H"])(Object(n["h"])("select",{name:"age",id:"age","onUpdate:modelValue":t[14]||(t[14]=function(e){return i.age=e}),onChange:t[15]||(t[15]=function(){return o.getVaccinationInfoWeek&&o.getVaccinationInfoWeek.apply(o,arguments)})},[be,pe,he,ge],544),[[n["C"],i.age]])])])]),Object(n["h"])("p",Oe,[Object(n["h"])("label",fe,[Object(n["H"])(Object(n["h"])("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=function(e){return i.notify.voice=e})},null,512),[[n["B"],i.notify.voice]]),je])])]),Object(n["h"])("div",ve,[Object(n["h"])("div",ye,[Object(n["h"])("input",{type:"button",class:"button is-primary is-small is-rounded",value:"Get data",ref:"getButton",onClick:t[17]||(t[17]=function(e){o.speak(!0),o.getVaccinationInfoWeek()})},null,512)]),Object(n["h"])("div",me,[Object(n["h"])("button",{type:"submit",class:"button is-info is-small is-rounded",value:"Poll",ref:"pollButton",onClick:t[18]||(t[18]=function(){return o.startTimer&&o.startTimer.apply(o,arguments)})},Object(n["z"])(i.pollButtonText),513)]),Se]),Object(n["h"])("div",ke,[Object(n["h"])("div",De,[i.optionType?(Object(n["q"])(),Object(n["d"])("span",Ie,Object(n["z"])(i.optionType),1)):Object(n["e"])("",!0),"state"===i.optionType?(Object(n["q"])(),Object(n["d"])("span",Ve,[we,i.selectedState?(Object(n["q"])(),Object(n["d"])("span",Te,Object(n["z"])(o.getName("state")),1)):Object(n["e"])("",!0),xe,i.selectedDistrict?(Object(n["q"])(),Object(n["d"])("span",_e,Object(n["z"])(o.getName("district")),1)):Object(n["e"])("",!0)])):(Object(n["q"])(),Object(n["d"])("span",Ce,[i.pinCode?(Object(n["q"])(),Object(n["d"])("span",qe,": "+Object(n["z"])(i.pinCode),1)):Object(n["e"])("",!0)]))]),Object(n["h"])("div",Ne,[We,i.age?(Object(n["q"])(),Object(n["d"])("span",ze,Object(n["z"])(i.ageRange[i.age]),1)):Object(n["e"])("",!0),Pe,i.vaccineType?(Object(n["q"])(),Object(n["d"])("span",Ae,Object(n["z"])(i.vaccineType),1)):Object(n["e"])("",!0),Fe,i.dose?(Object(n["q"])(),Object(n["d"])("span",Be,Object(n["z"])(i.dose),1)):Object(n["e"])("",!0),Re])]),i.processedVaccInfoWeek&&i.processedVaccInfoWeek.length>0?(Object(n["q"])(),Object(n["d"])("div",He,[i.textToSpeak?(Object(n["q"])(),Object(n["d"])("div",Me,Object(n["z"])(i.textToSpeak),1)):Object(n["e"])("",!0),Object(n["h"])(s,{vaccinationInfo:i.processedVaccInfoWeek,isFiltered:!0,ageRange:i.ageRange,selectedAge:i.age,selectedVaccine:i.vaccineType,selectedDose:i.dose},null,8,["vaccinationInfo","ageRange","selectedAge","selectedVaccine","selectedDose"])])):(Object(n["q"])(),Object(n["d"])("div",Ge,[Ee])),Ue,Le])})),Je=a("2909"),Ke=a("1da1"),Xe=(a("96cf"),a("99af"),a("7db0"),a("d3b7"),a("25f0"),a("4de4"),a("b0c0"),a("6062"),a("3ca3"),a("ddb0"),a("bc3a")),$e=a.n(Xe),Qe=Object(n["I"])("data-v-bdd4fe5e");Object(n["t"])("data-v-bdd4fe5e");var Ze={class:"table is-bordered is-striped"},et={key:0},tt={class:"tag mr-2 mb-2"},at=Object(n["g"])(),nt=Object(n["h"])("br",null,null,-1),ct={class:"tag is-uppercase is-info mr-2 mb-2"},it={class:"tag is-rounded is-warning"},ot={class:"field is-grouped is-grouped-multiline"},st={class:"control"},lt={key:0,class:"tags has-addons"},rt=Object(n["h"])("span",{class:"tag is-dark"},"Dose 1",-1),dt={class:"tag is-success"},ut={class:"control"},bt={key:0,class:"tags has-addons"},pt=Object(n["h"])("span",{class:"tag is-dark"},"Dose 2",-1),ht={class:"tag is-success"},gt={key:1,class:"tag is-uppercase is-danger"};Object(n["r"])();var Ot=Qe((function(e,t,a,c,i,o){return Object(n["q"])(),Object(n["d"])("table",Ze,[Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.vaccinationInfo,(function(e){return Object(n["q"])(),Object(n["d"])("tr",{key:e},[Object(n["h"])("td",null,[Object(n["h"])("div",null,[Object(n["h"])("strong",null,Object(n["z"])(e.name),1)]),Object(n["g"])(" "+Object(n["z"])(e.address)+", "+Object(n["z"])(e.pincode)+" ",1),Object(n["h"])("span",{class:["tag is-uppercase","Paid"===e.fee_type?"is-danger":"is-success"]},Object(n["z"])(e.fee_type),3)]),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(e.sessions,(function(e){return Object(n["q"])(),Object(n["d"])(n["a"],null,[o.displayCondition(e)?(Object(n["q"])(),Object(n["d"])("td",{key:e.session_id},[e.available_capacity>0?(Object(n["q"])(),Object(n["d"])("div",et,[Object(n["h"])("div",tt,[Object(n["h"])("strong",null,Object(n["z"])(o.getReadableDate(e.date)),1)]),at,nt,Object(n["h"])("span",ct,Object(n["z"])(e.vaccine),1),Object(n["h"])("span",it,Object(n["z"])(a.ageRange[e.min_age_limit.toString()]),1),Object(n["h"])("div",null,[Object(n["h"])("div",ot,[Object(n["h"])("div",st,[e.available_capacity_dose1>0?(Object(n["q"])(),Object(n["d"])("div",lt,[rt,Object(n["h"])("span",dt,Object(n["z"])(e.available_capacity_dose1),1)])):Object(n["e"])("",!0)]),Object(n["h"])("div",ut,[e.available_capacity_dose2?(Object(n["q"])(),Object(n["d"])("div",bt,[pt,Object(n["h"])("span",ht,Object(n["z"])(e.available_capacity_dose2),1)])):Object(n["e"])("",!0)])])])])):(Object(n["q"])(),Object(n["d"])("div",gt,"BOOKED"))])):Object(n["e"])("",!0)],64)})),256))])})),128))])])})),ft=(a("d81d"),a("ac1f"),a("1276"),{name:"InfoTable",props:{vaccinationInfo:Object,isFiltered:Boolean,selectedAge:String,ageRange:Object,selectedVaccine:String,selectedDose:String},data:function(){return{}},mounted:function(){},methods:{isAvailable:function(e){return e>0?"lightgreen":"lightpink"},ageFilter:function(e){return"any"===this.selectedAge||this.selectedAge.toString()===e.toString()},getReadableDate:function(e){var t=e.split("-").map((function(e){return parseInt(e,10)})),a=new Date(t[2],t[1],t[0]),n=a.toLocaleString("default",{month:"long"}),c=new Date;return"".concat(a.getDate()," ").concat(n," ").concat(c.getFullYear()!==a.getFullYear()?a.getFullYear():"")},displayCondition:function(e){return!this.isFiltered||this.isFiltered&&e.available_capacity>0&&this.ageFilter(e.min_age_limit)&&(e.vaccine===this.selectedVaccine||"any"===this.selectedVaccine)}}});ft.render=Ot,ft.__scopeId="data-v-bdd4fe5e";var jt=ft,vt={name:"Home",components:{InfoTable:jt},data:function(){return{optionType:"",age:"any",ageRange:{18:"18-39",40:"40-44",45:"45+",any:"all"},vaccineType:"any",dose:"all",date:null,formattedDate:null,datePickerDate:null,pinCode:null,states:null,districts:null,errorVal:null,selectedState:null,selectedDistrict:null,vaccInfoWeek:null,vaccinationInfo:null,processedVaccInfo:null,processedVaccInfoWeek:null,sevenDaysFromToday:[],initialCountVal:5,count:this.initialCountVal,timer:null,isPolling:!1,pollButtonText:"Get data automatically",textToSpeak:"Available in ",speakMsg:null,notify:{voice:!0,popup:!1}}},mounted:function(){this.$nextTick((function(){var e=new Date;this.date=this.getDateString(e),this.getNext7DaysFrom(e),this.getStates("mounted"),this.notify.voice&&localStorage.setItem("voiceEnabled",this.notify.voice),localStorage.pin&&(this.pinCode=localStorage.pin),localStorage.age&&(this.age=localStorage.age),localStorage.dose&&(this.dose=localStorage.dose),localStorage.vaccine&&(this.vaccineType=localStorage.vaccine),localStorage.option&&(this.optionType=localStorage.option),localStorage.voiceEnabled&&(this.notify.voice=localStorage.voiceEnabled),"speechSynthesis"in window&&this.notify.voice&&(this.speakMsg=new SpeechSynthesisUtterance,this.speakMsg.lang="hi")}))},methods:{notifyMe:function(){var e=this;"Notification"in window?"granted"===Notification.permission?new Notification(e.textToSpeak):"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){"granted"===t&&new Notification(e.textToSpeak)})):alert("This browser does not support desktop notification")},getDateString:function(e){return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1),"-").concat(e.getDate())},getReadableDate:function(e){var t=e.toLocaleString("default",{month:"long"});return"".concat(e.getDate()," ").concat(t)},getNext7DaysFrom:function(e){if(e)for(var t=0;t<7;t++){var a=new Date;a.setDate(e.getDate()+t),this.sevenDaysFromToday.push(this.getReadableDate(a))}},speak:function(e){this.speakMsg&&e?speechSynthesis.speak(this.speakMsg):speechSynthesis.cancel()},resetValues:function(){this.districts=null,this.selectedDistrict=null,this.processedVaccInfoWeek=null,this.vaccInfoWeek=null},populateStoredValues:function(){"state"===this.optionType&&(localStorage.state&&(this.selectedState=localStorage.state,this.changeState()),localStorage.district&&(this.selectedDistrict=localStorage.district,this.changeDistrict())),localStorage.pin&&(this.pinCode=localStorage.pin),localStorage.option&&(this.optionType=localStorage.option)},changeOption:function(){this.errorVal=null,this.optionType&&localStorage.setItem("option",this.optionType),this.populateStoredValues()},startTimer:function(){var e=this;console.log("Poll button clicked"),"Get data automatically"===this.pollButtonText?(console.log("Timer started"),this.timer=setInterval((function(){return e.countdown()}),1e3),this.isPolling=!0,this.pollButtonText="Getting data... Click to stop"):(clearInterval(this.timer),this.timer=null,this.pollButtonText="Get data automatically",this.isPolling=!1,this.notify.voice&&this.speak(!1))},countdown:function(){this.count>0?(this.count--,console.log("Still counting..."),this.pollButtonText="Getting data in ".concat(this.count,"... Click to stop")):(this.count=this.initialCountVal,this.notify.voice&&this.speak(!0),this.getVaccinationInfoWeek())},feeType:function(e){return"Paid"===e?"lightpink":"lightgreen"},formatDate:function(){var e=new Date(this.date);this.formattedDate="".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())},getName:function(e){var t,a,n="".concat(e,"_id"),c="".concat(e,"_name");"state"===e?(t=this.states,a=this.selectedState):(t=this.districts,a=this.selectedDistrict);try{return t.find((function(e){return e[n].toString()===a.toString()}))[c]}catch(i){return null}},changeState:function(e){this.resetValues(),localStorage.setItem("state",this.selectedState),this.getDistricts(e)},getDistricts:function(e){var t=this;return Object(Ke["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t,a.next=3,$e.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(t.selectedState)).then((function(e){n.districts=e.data.districts})).catch((function(e){n.errorVal=e.response}));case 3:localStorage.setItem("districts",JSON.stringify(n.districts)),localStorage.district&&(t.selectedDistrict=localStorage.district,t.changeDistrict(e));case 5:case"end":return a.stop()}}),a)})))()},changeDistrict:function(e){e&&("mounted"===e||"mounted"!==e&&"change"===e.type&&"district"===e.target.id)&&(localStorage.setItem("district",this.selectedDistrict),this.getVaccinationInfoWeek())},getStates:function(e){var t=this;return Object(Ke["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t,a.next=3,$e.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){n.states=e.data.states,localStorage.setItem("states",JSON.stringify(n.states))})).catch((function(e){n.errorVal=e.response.error,console.log(n.errorVal)}));case 3:localStorage.state&&(t.selectedState=localStorage.state,t.changeState(e));case 4:case"end":return a.stop()}}),a)})))()},getVaccinationInfoWeek:function(){var e=this;return Object(Ke["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.errorVal=null,e.pinCode&&localStorage.setItem("pin",e.pinCode),e.age&&localStorage.setItem("age",e.age),e.dose&&localStorage.setItem("dose",e.dose),e.vaccineType&&localStorage.setItem("vaccine",e.vaccineType),e.formatDate(),a=e,n=null,n="state"===e.optionType?"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(e.selectedDistrict,"&date=").concat(e.formattedDate):"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(e.pinCode,"&date=").concat(e.formattedDate),t.next=11,$e.a.get(n).then((function(e){"data"in e?a.vaccInfoWeek=e.data.centers:(console.error(e),a.errorVal=e),a.processVaccinationInfoWeek()})).catch((function(e){"response"in e&&"data"in e.response?(a.errorVal=e.response.data,console.log(a.errorVal)):a.errorVal=e}));case 11:case"end":return t.stop()}}),t)})))()},getVaccinationInfo:function(){this.errorVal=null,this.vaccinationInfo=null;var e=this,t=null;t="state"===this.optionType?"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByDistrict?district_id=".concat(this.selectedDistrict,"&date=").concat(this.formattedDate):"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode=".concat(this.pinCode,"&date=").concat(this.formattedDate),$e.a.get(t).then((function(t){"data"in t?(e.vaccinationInfo=t.data.sessions,e.processVaccinationInfo()):(console.error(t),e.errorVal=t)})).catch((function(t){console.log(t),"response"in t&&"data"in t.response&&(e.errorVal=t.response.data.error,console.log(e.errorVal))}))},processVaccinationInfo:function(){this.vaccinationInfo&&(this.processedInfo=this.vaccinationInfo.filter((function(e){return e.available_capacity>0})))},processVaccinationInfoWeek:function(){var e=this,t=this,a=[];this.vaccInfoWeek&&(this.processedVaccInfoWeek=this.vaccInfoWeek.filter((function(n){var c=n.sessions.filter((function(c){if(c.available_capacity>0){var i=[],o=t.age.toString();if((isNaN(t.age)&&"any"===o||c.min_age_limit.toString()===o)&&i.push(!0),"any"!==e.vaccineType&&c.vaccine!==e.vaccineType||i.push(!0),"all"===e.dose?i.push(!0):"D1"===e.dose?i.push(c.available_capacity_dose1>0):"D2"===e.dose&&i.push(c.available_capacity_dose2>0),i.every((function(e){return e}))&&3===i.length)return a.push(n.name),!0}}));return c.length>0}))),a=Object(Je["a"])(new Set(a));var n=a.length>0?"Vaccination available in "+a[0]+(a.length>1?" and ".concat(a.length-1," other centers"):""):"";this.textToSpeak=n,this.speakMsg&&(this.speakMsg.text=n)}}};vt.render=Ye,vt.__scopeId="data-v-82902b28";var yt=vt,mt=Object(n["f"])('<div class="about"> Developed by <a href="mailto:kishan.karun@gmail.com">Kishan K</a></div><div class="content"><ul><li>Displays the result of vaccine availability for the selections made:</li><li>Options to search by PIN or State-District</li><li>Option to select from date</li><li>Option to select age filter</li></ul> Select the option - <strong>Search By</strong> and choose <ul><li><strong>PIN</strong> - enter required PIN code of the area to search</li><li><strong>State</strong></li><ul><li>Select the state and then select the district</li><li>The availability data is automatically displayed</li></ul><li>Click <strong>Get Data</strong> button to get the data</li></ul><ul><li>Click <strong>Get Data Automatically</strong> button to get the latest data every 5 seconds automatically</li></ul></div>',2);function St(e,t){return Object(n["q"])(),Object(n["d"])("div",null,[mt])}const kt={};kt.render=St;var Dt=kt,It=[{path:"/",name:"Home",component:yt},{path:"/about",name:"About",component:Dt}],Vt=Object(f["a"])({history:Object(f["b"])(),routes:It}),wt=Vt,Tt=a("5502"),xt=Object(Tt["a"])({state:{},mutations:{},actions:{},modules:{}});Object(n["c"])(g).use(xt).use(wt).mount("#app")}});
//# sourceMappingURL=index.5710431a.js.map